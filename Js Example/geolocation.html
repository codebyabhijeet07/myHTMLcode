<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <h1>Hello, world!</h1>
  <iframe width="600" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="" id="iframe_map"></iframe>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
      } else {
        alert("Geolocation is not supported by this browser.");
      }
    }

    function showPosition(position) {
      var lat = position.coords.latitude;
      var long = position.coords.longitude;

      // Assuming you want a bounding box of 0.1 degrees around the current location
      var boundingBox = 0.1;
      
      var min_latitude = lat - (boundingBox / 2);
      var max_latitude = lat + (boundingBox / 2);
      var min_longitude = long - (boundingBox / 2);
      var max_longitude = long + (boundingBox / 2);

      var mapUrl = `https://www.openstreetmap.org/export/embed.html?bbox=${min_longitude}%2C${min_latitude}%2C${max_longitude}%2C${max_latitude}`;
      var i_map = document.getElementById('iframe_map');
      i_map.src = mapUrl;
    }

    function showError(error) {
      console.error("Error getting location:", error);
    }

    getLocation();
  </script>
</body>
</html>
